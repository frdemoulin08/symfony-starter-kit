{% set variant = variant|default('default') %}
{% set type = type|default('button') %}
{% set base_class = 'box-border border border-transparent shadow-xs font-medium rounded-base focus:outline-none' %}
{% set size_map = {
    'xs': 'text-xs px-3 py-1.5 leading-5',
    'sm': 'text-sm px-3 py-2 leading-5',
    'base': 'text-sm px-4 py-2.5 leading-5',
    'lg': 'text-base px-5 py-3',
    'xl': 'text-base px-6 py-3.5'
} %}
{% set size_class = size_map[size|default('base')]|default(size_map['base']) %}
{% set extra_class = extra_class|default('') %}

{% set variants = {
    'default': 'text-white bg-brand hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium',
    'primary': 'text-white bg-primary hover:bg-primary-strong focus:ring-4 focus:ring-primary-medium',
    'secondary': 'text-body bg-neutral-secondary-medium border border-default-medium hover:bg-neutral-tertiary-medium hover:text-heading focus:ring-4 focus:ring-neutral-tertiary',
    'tertiary': 'text-body bg-neutral-primary-soft border border-default hover:bg-neutral-secondary-medium hover:text-heading focus:ring-4 focus:ring-neutral-tertiary-soft',
    'success': 'text-white bg-success hover:bg-success-strong focus:ring-4 focus:ring-success-medium',
    'danger': 'text-white bg-danger hover:bg-danger-strong focus:ring-4 focus:ring-danger-medium',
    'warning': 'text-white bg-warning hover:bg-warning-strong focus:ring-4 focus:ring-warning-medium',
    'dark': 'text-white bg-dark hover:bg-dark-strong focus:ring-4 focus:ring-neutral-tertiary',
    'ghost': 'text-heading bg-transparent border border-transparent hover:bg-neutral-secondary-medium focus:ring-4 focus:ring-neutral-tertiary'
} %}

{% set variant_class = variants[variant]|default(variants['default']) %}
{% set classes = (base_class ~ ' ' ~ size_class ~ ' ' ~ variant_class ~ ' ' ~ extra_class)|trim %}

{% if href is defined %}
    <a href="{{ href }}" class="{{ classes }}">
        {% if icon is defined %}{{ icon|raw }}{% endif %}
        {{ label }}
    </a>
{% else %}
    <button type="{{ type }}" class="{{ classes }}">
        {% if icon is defined %}{{ icon|raw }}{% endif %}
        {{ label }}
    </button>
{% endif %}
