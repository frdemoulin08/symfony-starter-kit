{#
params:
- id (string) : identifiant unique du bouton (sans espaces)
- label (string) : aria-label du bouton (optionnel)
- items (array) : [{ label, href, disabled, extra_class, data_attrs }]
#}
{% set label = label|default('Ouvrir les actions') %}
{% set items = items|default([]) %}
{% set placement = placement|default('bottom-end') %}

<div class="relative flex justify-center">
    <button
        id="{{ id }}"
        type="button"
        class="inline-flex h-9 w-9 items-center justify-center rounded-base border border-default bg-neutral-primary-soft text-sm font-medium text-body hover:bg-neutral-secondary-medium hover:text-heading focus:outline-none"
        data-dropdown-toggle="{{ id }}-menu"
        data-dropdown-placement="{{ placement }}"
        aria-label="{{ label }}"
    >
        <span aria-hidden="true">â€¦</span>
    </button>
    <div id="{{ id }}-menu" class="z-50 hidden w-44 rounded-base border border-default-medium bg-neutral-primary-medium shadow-lg" data-dropdown-portal>
        <ul class="p-2 text-sm font-medium text-body" aria-labelledby="{{ id }}">
            {% for item in items %}
                {% set is_disabled = item.disabled|default(false) %}
                {% set extra_class = item.extra_class|default('') %}
                {% set base_class = 'inline-flex w-full items-center rounded px-2 py-2' %}
                {% set disabled_class = 'text-body-subtle cursor-not-allowed' %}
                {% set enabled_class = 'hover:bg-neutral-tertiary-medium hover:text-heading' %}
                {% set classes = (base_class ~ ' ' ~ (is_disabled ? disabled_class : enabled_class) ~ ' ' ~ extra_class)|trim %}
                {% set data_attrs = item.data_attrs|default({}) %}
                <li>
                    {% if is_disabled %}
                        <a href="#" class="{{ classes }}" aria-disabled="true">
                            {{ item.label }}
                        </a>
                    {% else %}
                        <a href="{{ item.href }}" class="{{ classes }}"
                            {% for key, value in data_attrs %}
                                {{ key }}="{{ value }}"
                            {% endfor %}
                        >
                            {{ item.label }}
                        </a>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    </div>
</div>
