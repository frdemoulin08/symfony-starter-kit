{#
params:
- input_id (string) : id de l'input mot de passe à copier
- label (string)
#}
{% set input_id = input_id|default('user_plainPassword') %}
{% set label = label|default('Copier le mot de passe') %}
{% set tooltip_id = tooltip_id|default('password-copy-tooltip-' ~ input_id) %}

<button type="button"
        class="flex items-center rounded-base border border-default bg-neutral-secondary-soft px-3 py-2 text-xs font-medium text-body hover:bg-neutral-tertiary hover:text-heading focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-medium/40"
        data-password-copy
        data-password-target="{{ input_id }}"
        data-tooltip-target="{{ tooltip_id }}"
        data-tooltip-placement="top"
        data-copy-text="Copier"
        data-copy-text-copied="Copié"
        data-copy-state="copy"
        aria-label="{{ label }}">
    <svg class="h-4 w-4 me-1.5 copy-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
        <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M9 8v3a1 1 0 0 1-1 1H5m11 4h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1v1m4 3v10a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7.13a1 1 0 0 1 .24-.65L7.7 8.35A1 1 0 0 1 8.46 8H13a1 1 0 0 1 1 1Z"/>
    </svg>
    <svg class="h-4 w-4 me-1.5 copied-icon hidden text-fg-success" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 11.917 9.724 16.5 19 7.5"/>
    </svg>
    <span class="copy-text">Copier</span>
</button>

<div id="{{ tooltip_id }}" role="tooltip" class="tooltip">
    <span data-tooltip-label>{{ label }}</span>
    <div class="tooltip-arrow" data-popper-arrow></div>
</div>
